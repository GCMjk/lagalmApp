<div class="container">
    <!-- Register -->
    <p class="display-2">
        Registro
    </p>
    <form class="row" [formGroup]="registerForm" (ngSubmit)="onRegister(registerForm.value)">

        <!-- Create employee -->
        <p class="display-6">
            Crear empleado
        </p>

        <!-- Email -->
        <div class="col-12 mb-2">
            <label class="form-label" for="email">
                Correo
            </label>
            <input class="form-control" type="email" placeholder="Introduzca su correo"
                formControlName="email"
                [ngClass]="{ 'is-invalid': fm['email'].invalid && (fm['email'].dirty || fm['email'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['email'].invalid">
                    <ng-container *ngIf="fm['email'].errors?.['required']">
                        Introduzca un correo
                    </ng-container>
                    <ng-container *ngIf="fm['email'].errors?.['pattern']">
                        Introduzca una dirección de correo válida
                    </ng-container>
            </div>
        </div>
        <!-- Password -->
        <div class="col-12 mb-2">
            <label class="form-label" for="password">
                Contraseña
            </label>
            <input class="form-control" type="password" placeholder="Introduzca su contraseña"
                formControlName="password"
                [ngClass]="{ 'is-invalid': fm['password'].invalid && (fm['password'].dirty || fm['password'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['password'].invalid">
                    <ng-container *ngIf="fm['password'].errors?.['required']">
                        Introduzca una contraseña
                    </ng-container>
                    <ng-container *ngIf="fm['password'].errors?.['pattern']">
                        Mínimo 6 caracteres (Al menos una letra y número) 
                    </ng-container>
                    <ng-container *ngIf="fm['password'].errors?.['maxlength']">
                        Menor a {{ maxPass }} carácteres
                    </ng-container>
            </div>
        </div>

        <!-- Personal information -->     
        <p class="display-6">
            Datos personales
        </p>

        <!-- FullName -->
        <div class="row m-0 p-0" formGroupName="name">
            <!-- Name -->
            <div class="col-12 col-md-6 mb-2">
                <label class="form-label" for="first">
                    Nombre
                </label>
                <input class="form-control" type="text" placeholder="Introduzca el nombre"
                    formControlName="first"
                    [ngClass]="{ 'is-invalid': fmN['first'].invalid && (fmN['first'].dirty || fmN['first'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmN['first'].invalid">
                        <ng-container *ngIf="fmN['first'].errors?.['required']">
                            Nombre obligatorio
                        </ng-container>
                        <ng-container *ngIf="fmN['first'].errors?.['maxlength']">
                            El nombre debe ser menor a {{ maxText }} caracteres
                        </ng-container>
                </div>
            </div>
            <!-- Lastname -->
            <div class="col-12 col-md-6 mb-2">
                <label class="form-label" for="last">
                    Apellidos
                </label>
                <input class="form-control" type="text" placeholder="Introduzca sus apellidos"
                    formControlName="last"
                    [ngClass]="{ 'is-invalid': fmN['last'].invalid && (fmN['last'].dirty || fmN['last'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmN['last'].invalid">
                        <ng-container *ngIf="fmN['last'].errors?.['required']">
                            Apellido obligatorio
                        </ng-container>
                        <ng-container *ngIf="fmN['last'].errors?.['maxlength']">
                            Los apellidos debe ser menor a {{ maxText }} caracteres
                        </ng-container>
                </div>
            </div>
        </div>
        <!-- Birthday -->
        <div class="col-12 mb-2">
            <app-date-picker-age
                [parent]="registerForm"
                [ngClass]="{ 'is-invalid': fm['birthday'].invalid && (fm['birthday'].dirty || fm['birthday'].touched) }"
                (newDate)="selectDate($event)"></app-date-picker-age>
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['birthday'].invalid">
                    <ng-container *ngIf="fm['birthday'].errors?.['required']">
                        Fecha de nacimiento obligatoria
                    </ng-container>
                    <ng-container *ngIf="fm['birthday'].errors?.['pattern']">
                        Fecha incorrecta, no son permitidos letras
                    </ng-container>
            </div>
        </div>
        <!-- Curp -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="curp">
                CURP
            </label>
            <input class="form-control" type="text" placeholder="Introduzca el CURP"
                formControlName="curp"
                [ngClass]="{ 'is-invalid': fm['curp'].invalid && (fm['curp'].dirty || fm['curp'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['curp'].invalid">
                    <ng-container *ngIf="fm['curp'].errors?.['required']">
                        CURP obligatorio
                    </ng-container>
                    <ng-container *ngIf="fm['curp'].errors?.['pattern']">
                        CURP inválido
                    </ng-container>
            </div>
        </div>
        <!-- RFC -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="rfc">
                RFC
            </label>
            <input class="form-control" type="text" placeholder="Introduzca el RFC"
                formControlName="rfc"
                [ngClass]="{ 'is-invalid': fm['rfc'].invalid && (fm['rfc'].dirty || fm['rfc'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['rfc'].invalid">
                    <ng-container *ngIf="fm['rfc'].errors?.['required']">
                        RFC obligatorio
                    </ng-container>
                    <ng-container *ngIf="fm['rfc'].errors?.['pattern']">
                        RFC inválido
                    </ng-container>
            </div>
        </div>
        <!-- Civil status -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="civilStatus">
                Estado civil
            </label>
            <select class="form-select"
                formControlName="civilStatus"
                [ngClass]="{ 'is-invalid': fm['civilStatus'].invalid && (fm['civilStatus'].dirty || fm['civilStatus'].touched) }">
                    <option value="">
                        Elija una opción
                    </option>
                    <option *ngFor="let civil of civilStatus" [ngValue]="civil">
                        {{ civil }}
                    </option>
            </select>
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['civilStatus'].invalid">
                    <ng-container *ngIf="fm['civilStatus'].errors?.['required']">
                        Elija una opción
                    </ng-container>
            </div>
        </div>
        <!-- Scholarship -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="scholarship">
                Escolaridad
            </label>
            <select class="form-select"
                formControlName="scholarship"
                [ngClass]="{ 'is-invalid': fm['scholarship'].invalid && (fm['scholarship'].dirty || fm['scholarship'].touched) }">
                    <option value="">
                        Elija una opción
                    </option>
                    <option *ngFor="let scholarship of scholarships" [ngValue]="scholarship">
                        {{ scholarship }}
                    </option>
            </select>
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['scholarship'].invalid">
                    <ng-container *ngIf="fm['scholarship'].errors?.['required']">
                        Elija una opción
                    </ng-container>
            </div>
        </div>
        
        <p class="display-6">
            Contacto
        </p>

        <!-- Phone -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="phone">
                Teléfono
            </label>
            <input class="form-control" type="text" placeholder="Teléfono"
                    mask="00-0000-0000"
                    formControlName="phone"
                    [ngClass]="{ 'is-invalid': fm['phone'].invalid && (fm['phone'].dirty || fm['phone'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['phone'].invalid">
                    <ng-container *ngIf="fm['phone'].errors?.['required'] || fm['phone'].errors?.['pattern']">
                        Introduzca numeros
                    </ng-container>
                    <ng-container *ngIf="fm['phone'].errors?.['minlength'] || fm['phone'].errors?.['maxlength']">
                        Número de 10 digitos
                    </ng-container>
            </div>
        </div>
        <!-- Emergency number -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="emergencyPhone">
                Número de contacto
            </label>
            <input class="form-control" type="text" placeholder="Número de contacto"
                    mask="00-0000-0000"
                    formControlName="emergencyPhone"
                    [ngClass]="{ 'is-invalid': fm['emergencyPhone'].invalid && (fm['emergencyPhone'].dirty || fm['emergencyPhone'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['emergencyPhone'].invalid">
                    <ng-container *ngIf="fm['emergencyPhone'].errors?.['required'] || fm['emergencyPhone'].errors?.['pattern']">
                        Introduzca numeros
                    </ng-container>
                    <ng-container *ngIf="fm['emergencyPhone'].errors?.['minlength'] || fm['emergencyPhone'].errors?.['maxlength']">
                        Número de 10 digitos 
                    </ng-container>
            </div>
        </div>

        <!-- Adress -->
        <div class="row m-0 p-0" formGroupName="address">
            <!-- Street -->
            <div class="col-12 col-md-4 mb-2">
                <label class="form-label" for="street">
                    Calle
                </label>
                <input class="form-control" type="text" placeholder="Calle"
                    formControlName="street"
                    [ngClass]="{ 'is-invalid': fmA['street'].invalid && (fmA['street'].dirty || fmA['street'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['street'].invalid">
                        <ng-container *ngIf="fmA['street'].errors?.['required']">
                            Introduzca numeros
                        </ng-container>
                        <ng-container *ngIf="fmA['street'].errors?.['maxlength']">
                            Menor a {{ maxText }} carácteres
                        </ng-container>
                </div>
            </div>
            <!-- Number -->
            <div class="col-12 col-sm-6 col-md-2 mb-2">
                <label for="number" class="form-label">
                    Interior
                </label>
                <input class="form-control" type="text" placeholder="Número"
                    formControlName="number"
                    [ngClass]="{ 'is-invalid': fmA['number'].invalid && (fmA['number'].dirty || fmA['number'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['number'].invalid">
                        <ng-container *ngIf="fmA['number'].errors?.['required'] || fmA['number'].errors?.['pattern']">
                            Introduzca numeros
                        </ng-container>
                        <ng-container *ngIf="fmA['number'].errors?.['maxlength']">
                            Menor a 4 carácteres
                        </ng-container>
                </div>
            </div>
            <!-- Exterior number -->
            <div class="col-12 col-sm-6 col-md-2 mb-2">
                <label for="exNumber" class="form-label">
                    Exterior
                </label>
                <input class="form-control" type="text" placeholder="Número"
                    formControlName="exNumber"
                    [ngClass]="{ 'is-invalid': fmA['exNumber'].invalid && (fmA['exNumber'].dirty || fmA['exNumber'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['exNumber'].invalid">
                        <ng-container *ngIf="fmA['exNumber'].errors?.['maxlength']">
                            Menor a 4 carácteres
                        </ng-container>
                </div>
            </div>
            <!-- City -->
            <div class="col-12 col-md-4 mb-2">
                <label class="form-label" for="city">
                    Ciudad
                </label>
                <input class="form-control" type="text" placeholder="Ciudad"
                    formControlName="city"
                    [ngClass]="{ 'is-invalid': fmA['city'].invalid && (fmA['city'].dirty || fmA['city'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['city'].invalid">
                        <ng-container *ngIf="fmA['city'].errors?.['required']">
                            Introduzca una ciudad
                        </ng-container>
                        <ng-container *ngIf="fmA['city'].errors?.['maxlength']">
                            Menor a {{ maxText }} carácteres
                        </ng-container>
                </div>
            </div>
            <!-- State -->
            <div class="col-12 col-md-8 mb-2">
                <label class="form-label" for="state">
                    Estado
                </label>
                <select class="form-select"
                    formControlName="state"
                    [ngClass]="{ 'is-invalid': fmA['state'].invalid && (fmA['state'].dirty || fmA['state'].touched) }">
                    <option value="">
                        Elija una opción
                    </option>
                    <option *ngFor="let state of states" [ngValue]="state">
                        {{ state }}
                    </option>
                </select>
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['state'].invalid">
                        <ng-container *ngIf="fmA['state'].errors?.['required']">
                            Elija una opción
                        </ng-container>
                </div>
            </div>
            <!-- ZIP -->
            <div class="col-12 col-md-4 mb-2">
                <label class="form-label" for="zip">
                    Codigo postal
                </label>
                <input class="form-control" type="text" placeholder="C.P."
                    formControlName="zip"
                    [ngClass]="{ 'is-invalid': fmA['zip'].invalid && (fmA['zip'].dirty || fmA['zip'].touched) }">
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmA['zip'].invalid">
                        <ng-container *ngIf="fmA['zip'].errors?.['required']">
                            Introduzca numeros
                        </ng-container>
                        <ng-container *ngIf="fmA['zip'].errors?.['pattern']">
                            Introduzca un codigo valido
                        </ng-container>
                </div>
            </div>
        </div>
        

        <p class="display-6">
            Empleado
        </p>

        <!-- Card number -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="cardNumber">
                Numero de cuenta
            </label>
            <input class="form-control" type="text" placeholder="xxxx-xxxx-xxxx-xxxx"
                    mask="0000-0000-0000-0000"
                    formControlName="cardNumber"
                    [ngClass]="{ 'is-invalid': fm['cardNumber'].invalid && (fm['cardNumber'].dirty || fm['cardNumber'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['cardNumber'].invalid">
                    <ng-container *ngIf="fm['cardNumber'].errors?.['required']">
                        Introduzca una cuenta
                    </ng-container>
                    <ng-container *ngIf="fm['cardNumber'].errors?.['pattern']">
                        Solo numeros
                    </ng-container>
                    <ng-container *ngIf="fm['cardNumber'].errors?.['maxlength']">
                        Cuenta no mayor a 16 digitos
                    </ng-container>
            </div>
        </div>
        <!-- Employee number -->
        <div class="col-12 col-md-6 mb-2">
            <label class="form-label" for="id">
                Número de empleado
            </label>
            <input class="form-control" type="text" placeholder="xxxx"
                    formControlName="id"
                    [ngClass]="{ 'is-invalid': fm['id'].invalid && (fm['id'].dirty || fm['id'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['id'].invalid">
                    <ng-container *ngIf="fm['id'].errors?.['required'] || fm['id'].errors?.['pattern']">
                        Introduzca numeros
                    </ng-container>
            </div>
        </div>
        <!-- Security number -->
        <div class="col-12 col-md-8 mb-2">
            <label class="form-label" for="securityNumber">
                Número de seguridad social
            </label>
            <input class="form-control" type="text" placeholder="xx-xx-xx-xxxx-x"
                    mask="00-00-00-0000-0"
                    formControlName="securityNumber"
                    [ngClass]="{ 'is-invalid': fm['securityNumber'].invalid && (fm['securityNumber'].dirty || fm['securityNumber'].touched) }">
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['securityNumber'].invalid">
                    <ng-container *ngIf="fm['securityNumber'].errors?.['required']">
                        Introduzca numeros
                    </ng-container>
                    <ng-container *ngIf="fm['securityNumber'].errors?.['pattern']">
                        NSS inválido
                    </ng-container>
            </div>
        </div>
        <!-- Infonavit -->
        <div class="col-12 col-md-4 mb-2">
            <label class="form-label" for="infonavit">
                Invonavit
            </label>
            <select class="form-select"
                formControlName="infonavit"
                [ngClass]="{ 'is-invalid': fm['infonavit'].invalid && (fm['infonavit'].dirty || fm['infonavit'].touched) }">
                    <option value="">
                        Elija una opción
                    </option>
                    <option [ngValue]="true">
                        Si
                    </option>
                    <option [ngValue]="false">
                        No
                    </option>
            </select>
            <!-- Errors validators -->
            <div class="invalid-feedback"
                *ngIf="fm['infonavit'].invalid">
                    <ng-container *ngIf="fm['infonavit'].errors?.['required']">
                        Elija una opción
                    </ng-container>
            </div>
        </div>
        <!-- Job -->
        <div class="row m-0 p-0" formGroupName="job">
            <!-- Rol -->
            <div class="col-12 col-md-6 mb-2">
                <label class="form-label" for="rol">
                    Permisos
                </label>
                <select class="form-select"
                    formControlName="rol"
                    [ngClass]="{ 'is-invalid': fmJ['rol'].invalid && (fmJ['rol'].dirty || fmJ['rol'].touched) }">
                        <option value="">
                            Elija una opción
                        </option>
                        <option *ngFor="let rol of roles" [ngValue]="rol">
                            {{ rol.charAt(0).toUpperCase() + rol.substr(1).toLowerCase() }}
                        </option>
                </select>
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmJ['rol'].invalid">
                        <ng-container *ngIf="fmJ['rol'].errors?.['required']">
                            Elija una opción
                        </ng-container>
                </div>
            </div>
            <!-- Area -->
            <div class="col-12 col-md-6 mb-2">
                <label class="form-label" for="rol">
                    Area de trabajo
                </label>
                <select class="form-select"
                    formControlName="area"
                    [ngClass]="{ 'is-invalid': fmJ['area'].invalid && (fmJ['area'].dirty || fmJ['area'].touched) }">
                        <option value="">
                            Elija una opción
                        </option>
                        <option *ngFor="let area of areas" [ngValue]="area">
                            {{ area }}
                        </option>
                </select>
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmJ['area'].invalid">
                        <ng-container *ngIf="fmJ['area'].errors?.['required']">
                            Elija una opción
                        </ng-container>
                </div>
            </div>
            <!-- Job description -->
            <div class="col-12 mb-2">
                <label class="form-label" for="description">
                    Descripción del puesto
                </label>
                <textarea class="form-control" rows="1"
                    formControlName="description"
                    [ngClass]="{ 'is-invalid': fmJ['description'].invalid && (fmJ['description'].dirty || fmJ['description'].touched) }">
                </textarea>
                <!-- Errors validators -->
                <div class="invalid-feedback"
                    *ngIf="fmJ['description'].invalid">
                        <ng-container *ngIf="fmJ['description'].errors?.['required']">
                            Escriba una descripción
                        </ng-container>
                        <ng-container *ngIf="fmJ['description'].errors?.['maxlength']">
                            Menor a {{ maxText }} carácteres
                        </ng-container>
                </div>
            </div>
        </div>
        <!-- Profile -->
        <div class="col-12 mb-2">
            <label class="form-label" for="photo">
                Foto de perfil
            </label>
            <input class="form-control" type="file"
                formControlName="photo">
        </div>

        <!-- Register -->
        <button type="submit" [disabled]="!registerForm.valid" class="btn btn-success mb-3">
            Registrar
        </button>

    </form>
</div>